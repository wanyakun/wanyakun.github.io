(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{551:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("当团队不在是一两个人，业务不再是简单几条线，业务随着时间的推移变得有多又混乱时，传统的一个工程或者一个workspace来开发已经显得不再方便，各个业务的代码管理在一起也显得结构比较混乱，比如Vender、Utils、Helper、Manager、Category、Network以及业务代码等。我们需要构建基础平台，将基础平台中的组件以Library的方式交付业务方使用。同样，对于业务众多的App，每个业务模块也可以使用Library的模式，通过CocoaPods集中构建到一起。")]),s._v(" "),t("p",[s._v("下面介绍私有Pods的创建过程，包括以下几个步骤：")]),s._v(" "),t("ol",[t("li",[s._v("创建一个私有的Spec Repo")]),s._v(" "),t("li",[s._v("将你的私有Repo添加到CocoaPods安装中")]),s._v(" "),t("li",[s._v("将你的Podspec添加到你的Repo中")])]),s._v(" "),t("h3",{attrs:{id:"创建一个私有的spec-repo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个私有的spec-repo"}},[s._v("#")]),s._v(" 创建一个私有的Spec Repo")]),s._v(" "),t("p",[s._v("要使用私有pod的集合，我们需要创建自己的Spec repo。应该将repo放在所有使用它的人都可以访问的地方。我们并不需要fork CocoaPods/Specs的Master repo。只需要确保团队中的每个人都可以访问此repo，并且不需要公开。")]),s._v(" "),t("p",[s._v("这一步其实很简单，在自己的GitLib服务器（也可以在GitHub或者OSChina上）创建Spec仓库。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/git\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" Specs.git\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Specs.git\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init --bare\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("下面使用位于 http://git.xxxx.com/wireless/Specs.git 这个位置的repo举例")]),s._v(" "),t("h3",{attrs:{id:"将你的私有repo添加到cocoapods安装中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将你的私有repo添加到cocoapods安装中"}},[s._v("#")]),s._v(" 将你的私有Repo添加到CocoaPods安装中")]),s._v(" "),t("p",[s._v("添加私有Repo到CocoaPods的命令格式为： "),t("code",[s._v("$ pod repo add REPO_NAME SOURCE_URL")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ pod repo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" ppd http://git.xxxx.com/wireless/Specs.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此操作成功后会将仓库Specs克隆到 ~./cocoapods/repos/ppd 中。下面验证安装是否成功：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.cocoapods/repos/ppd\n$ pod repo lint "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("会经历很长时间，并出现大量的点点点的符号。")]),s._v(" "),t("h3",{attrs:{id:"将你的podspec添加到你的repo中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将你的podspec添加到你的repo中"}},[s._v("#")]),s._v(" 将你的Podspec添加到你的Repo中")]),s._v(" "),t("p",[s._v("将Library的Podspec添加到Repo分两种情况处理：1.已经存在Library 2.从头开始创建Library")]),s._v(" "),t("h4",{attrs:{id:"已经存在library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已经存在library"}},[s._v("#")]),s._v(" 已经存在Library")]),s._v(" "),t("p",[s._v("对于已经存在的 只需要创建并编辑Podspec，使用如下方式")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/Documents/git/xxxx/PPDDemoApplication\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" PPDDemoApplication.podspec\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("也或者Library已经存在于Git上，可以使用下面命令创建：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ pod spec create PPDDemoApplication http://git.xxxx.com/wanyakun/ppd-demo-application.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("打开podspec文件，编辑内容参考如下（更多介绍请参考：http://guides.cocoapods.org/syntax/podspec.html ）：")]),s._v(" "),t("div",{staticClass:"language-Ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Pod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoApplication'")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("version          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.1.1'")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("summary          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Demo主程序模块'")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("description      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DESC")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Demo")]),s._v("主程序模块，通过引入一系列插件，完成"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("App")]),s._v("的组装。插件部分独立开发独立测试，独立发布，主程序模块只需要引入插件模块即可\n                       "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DESC")]),s._v("\n\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("homepage         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://git.xxxx.com/wanyakun/ppd-demo-application'")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("license          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MIT'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'LICENSE'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("author           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wanyakun'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wanyakun@vip.qq.com'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("source           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://git.xxxx.com/wanyakun/ppd-demo-application.git'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":tag")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("version"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("to_s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ios"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deployment_target "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'8.0'")]),s._v("\n\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("source_files "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoApplication/Classes/**/*'")]),s._v("\n  s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("resources "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoApplication/Assets/*.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s.resource_bundles = {")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     'PPDDemoApplication' => ['PPDDemoApplication/Assets/*.png']")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   }")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s.public_header_files = 'Pod/Classes/**/*.h'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s.frameworks = 'UIKit', 'MapKit'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s.dependency 'AFNetworking', '~> 2.3'")]),s._v("\n    s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dependency "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoHome'")]),s._v("\n    s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dependency "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoMine'")]),s._v("\n    s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dependency "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BeeHive'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("h4",{attrs:{id:"从头开始创建library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从头开始创建library"}},[s._v("#")]),s._v(" 从头开始创建Library")]),s._v(" "),t("p",[s._v("使用命令："),t("code",[s._v("pod lib create PPDDemoApplication")]),s._v("，之后会让你回答一些问题：使用Swift还是Objc，是否包含demo application，使用什么测试framework等等。 创建后的目录如下：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ tree PPDDemoApplication -L "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nPPDDemoApplication\n├── Example\n│   ├── Podfile\n│   ├── Podfile.lock\n│   ├── Pods\n│   ├── Tests\n│   ├── PPDDemoApplication\n│   ├── PPDDemoApplication.xcodeproj\n│   └── PPDDemoApplication.xcworkspace\n├── LICENSE\n├── README.md\n├── PPDDemoApplication\n│   ├── Assets\n│   └── Classes\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       └── ReplaceMe."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("swift/m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    \n├── PPDDemoApplication.podspec\n└── _Pods.xcodeproj -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Example/Pods/Pods.xcodeproj\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("关于这些目录的更多介绍，请参考：更多信息请参考：http://guides.cocoapods.org/making/using-pod-lib-create.html")]),s._v(" "),t("p",[s._v("通过Cocoapods创建出来的目录本身就在本地的Git管理下，我们需要做的就是给它添加远端仓库，同样去GitHub或其他的Git服务器创建一个私有的仓库（这里我使用的是内部GitLab服务器），拿到git地址，然后cd到PPDDemoApplication目录，提交代码、添加远程仓库、提交代码到远程仓库：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -am "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"初始化Library"')]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin http://git.xxxx.com/wanyakun/ppd-demo-application.git\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("在Classes目录创建Library相关的代码，完成Library开发后创建tag并推送到服务器：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag -a "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0 -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tag 0.1.0"')]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("编辑PPDDemoApplication.podspec同上一节所述。")]),s._v(" "),t("h4",{attrs:{id:"验证并上传podspec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证并上传podspec"}},[s._v("#")]),s._v(" 验证并上传Podspec")]),s._v(" "),t("p",[s._v("编辑完podspec文件后，需要验证一下这个文件是否可用，如果有任何WARNING或者ERROR都是不可以的，它就不能被添加到Spec Repo中，不过xcode的WARNING是可以存在的，验证需要执行以下命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ pod lib lint\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("当看到以下内容时说明验证通过了，不过这只是这个podspec文件是合格的，不一定说明这个Pod是可以用的，我们需要在本地做一下验证，就是真正添加到podfile中并在Example中使用，使用过CocoaPods的都知道怎么去做。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" PPDDemoApplication "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nPPDDemoApplication passed validation.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("验证通过后，就可以向我们的私有Spec Repo提交podspec了，只需要一个命令，格式为："),t("code",[s._v("$ pod repo push REPO_NAME SPEC_NAME.podspec")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pod repo push ppd PPDDemoApplication.podspec \n\nValidating spec\n -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" PPDDemoApplication "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nUpdating the "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("ppd' repo\n\nAlready up-to-date.\n\nAdding the spec to the "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("ppd' repo\n\n - "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PPDDemoApplication "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nPushing the `ppd' repo\n\nTo http://git.xxxx.com/wireless/Specs.git\n   9f4284c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("60667bc  master -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("此时在我们的 ~./cocoapods/repos/ppd 目录中就有PPDDemoApplication了，目录结构如下：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ tree PPDDemoApplication -L "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nPPDDemoApplication\n└── "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0\n    └── PPDDemoApplication.podspec\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("再检查远端仓库，Podspec已经被提交到Git服务器。")]),s._v(" "),t("p",[s._v("至此，我们的私有组件库已经制作完成，使用pod search命令就可以查到我们自己的库了。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pod search PPDDemoApplication\n\n-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" PPDDemoApplication "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Demo主程序模块\n   pod "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PPDDemoApplication'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~> 0.1.0'")]),s._v("\n   - Homepage: http://git.xxxx.com/wanyakun/ppd-demo-application\n   - Source:   http://git.xxxx.com/wanyakun/ppd-demo-application.git\n   - Versions: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(".0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ppd repo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("**注意：**如果不能够通过pod search查询到自己创建的库，执行以下代码后重新搜索，此过程会对本地的Spec重新创建搜索索引:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" ~/Library/Caches/CocoaPods/search_index.json \n\npod search PPDDemoApplication\nCreating search index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" spec repo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'master'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" Done"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nCreating search index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" spec repo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ppd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" Done"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"使用私有库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用私有库"}},[s._v("#")]),s._v(" 使用私有库")]),s._v(" "),t("p",[s._v("在使用私有库之前，需要在Podfile中添加source，然后就可以正常使用。")]),s._v(" "),t("div",{staticClass:"language-Ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("source "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://git.xxxx.com/wireless/Specs.git'")]),s._v("\nsource "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://github.com/CocoaPods/Specs.git'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"私有库中遇到的坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#私有库中遇到的坑"}},[s._v("#")]),s._v(" 私有库中遇到的坑")]),s._v(" "),t("p",[s._v("请参考：http://www.jianshu.com/p/1e5927eeb341")]),s._v(" "),t("h3",{attrs:{id:"类库打包工具-cocoapods-package"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类库打包工具-cocoapods-package"}},[s._v("#")]),s._v(" 类库打包工具 CocoaPods package")]),s._v(" "),t("p",[s._v("需要使用一个cocoapods的插件cocoapods-packager来完成类库的打包")]),s._v(" "),t("ul",[t("li",[s._v("安装打包插件")])]),s._v(" "),t("p",[s._v("终端执行以下命令")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cocoapods-packager\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("打包")])]),s._v(" "),t("p",[s._v("终端执行以下命令")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pod package PPDDemoUser.podspec --force\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("可以命令行执行 "),t("code",[s._v("pod package --help")]),s._v(" 查看命令的可添加参数。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ pod package --help\nUsage:\n\n    $ pod package NAME "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SOURCE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n      Package a podspec into a static library.\n\nOptions:\n\n    --force                                                         Overwrite existing\n                                                                    files.\n    --no-mangle                                                     Do not mangle\n                                                                    symbols of\n                                                                    depedendant Pods.\n    --embedded                                                      Generate embedded\n                                                                    frameworks.\n    --library                                                       Generate static\n                                                                    libraries.\n    --dynamic                                                       Generate dynamic\n                                                                    framework.\n    --bundle-identifier                                             Bundle identifier\n                                                                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" dynamic\n                                                                    framework\n    --exclude-deps                                                  Exclude symbols\n                                                                    from dependencies.\n    --configuration                                                 Build the\n                                                                    specified\n                                                                    configuration\n                                                                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g. Debug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n                                                                    Defaults to\n                                                                    Release\n    --subspecs                                                      Only include the\n                                                                    given subspecs\n    --spec-sources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("private,https://github.com/CocoaPods/Specs.git   The sources to\n                                                                    pull dependant\n                                                                    pods from\n                                                                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("defaults to\n                                                                    https://github.com/CocoaPods/Specs.git"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("ul",[t("li",[s._v("Podspec中有依赖私有库，通过package生成Framework的时候需要指定spec-sources")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pod package PPDDemoUser.podspec --force --dynamic --spec-sources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://git.xxxx.com/wireless/Specs.git,https://github.com/CocoaPods/Specs.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("pod lib lint 和 pod repo push的时候，如果依赖私有库，需要指定sources")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pod lib lint --allow-warnings --sources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://git.xxxx.com/wireless/Specs.git,https://github.com/CocoaPods/Specs.git --use-libraries\n\npod repo push ppd PPDDemoMine.podspec --allow-warnings --sources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://git.xxxx.com/wireless/Specs.git,https://github.com/CocoaPods/Specs.git --use-libraries\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"创建组件过程中出现organizationname为邮箱导致创建失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建组件过程中出现organizationname为邮箱导致创建失败"}},[s._v("#")]),s._v(" 创建组件过程中出现ORGANIZATIONNAME为邮箱导致创建失败")]),s._v(" "),t("p",[s._v("ORGANIZATIONNAME为模板中设置的组织名称，如果未邮箱个格式会导致检查这个字段的时候失败，查询模板中project.pbxproj字段ORGANIZATIONNAME=PROJECT_OWNER，而PROJECT_OWNER在ProjectManipulator文件中配置为@configurator.user_name，configurator为TemplateConfigurator.rb的实例，user_name定义如下：")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("user_name")])]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ENV")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GIT_COMMITTER_NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" `git config user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name` "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" github_user_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" `"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GITHUB_USERNAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("` "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("strip\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("所以，一般出现这个问题是git config user.name为邮箱造成的，将其改为非邮箱即可")]),s._v(" "),t("h3",{attrs:{id:"查看二进制文件支持的cpu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看二进制文件支持的cpu"}},[s._v("#")]),s._v(" 查看二进制文件支持的CPU")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ lipo -info PPDDemoUser \nArchitectures "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the fat file: PPDDemoUser are: i386 x86_64 armv7 arm64 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"查看二进制文件是否支持bitcode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看二进制文件是否支持bitcode"}},[s._v("#")]),s._v(" 查看二进制文件是否支持BitCode")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# framework和app需要检查LLVM")]),s._v("\n$ otool -l PPDDemoUser "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" __LLVM\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# framework lipo 后有问题，需要用下面命令")]),s._v("\n$ otool -arch armv7 -l openssl "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" __LLVM "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"合并二进制文件-模拟器和真机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并二进制文件-模拟器和真机"}},[s._v("#")]),s._v(" 合并二进制文件（模拟器和真机）")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lipo -create -output Release-universal/openssl.framework/openssl Release-iphonesimulator/openssl.framework/openssl Release-iphoneos/openssl.framework/openssl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"bitcode-bundle-could-not-be-generated-because-was-built-without-full-bitcode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bitcode-bundle-could-not-be-generated-because-was-built-without-full-bitcode"}},[s._v("#")]),s._v(" bitcode bundle could not be generated because was built without full bitcode.")])])}),[],!1,null,null,null);a.default=n.exports}}]);
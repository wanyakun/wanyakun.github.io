(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{515:function(t,e,a){"use strict";a.r(e);var n=a(4),i=function(t){t.options.__data__block__={mermaid_382ee14d:"sequenceDiagram\n  participant domain as 请求域名：blog.aioser.com\n  participant DNS\n  participant ip as ip地址：1.1.1.1\n\n  domain ->> DNS: \n  DNS ->> ip: \n  ip --\x3e> DNS: \n  DNS --\x3e> domain: \n",mermaid_382ee169:"graph TD\n  跟 --\x3e net\n  跟 --\x3e com\n  跟 --\x3e org\n  跟 --\x3e dot1(...)\n  跟 --\x3e edu1(edu)\n  跟 --\x3e cn\n  跟 --\x3e uk\n  跟 --\x3e dot2(...)    \n  com --\x3e cctv\n  com --\x3e dot3(...)\n  com --\x3e ibm\n  cn --\x3e bj\n  cn --\x3e dot4(...)\n  cn --\x3e edu2(edu)\n  cctv --\x3e mail\n  cctv --\x3e dot5(...)\n  cctv --\x3e www\n  edu2(edu) --\x3e tsinghua\n  edu2(edu) --\x3e dot6(...)\n  edu2(edu) --\x3e pku\n  tsinghua --\x3e mail2(mail)\n  tsinghua --\x3e dot7(...)\n  tsinghua ---\x3e www1(www)\n"}},_=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#是什么"}},[t._v("#")]),t._v(" 是什么")]),t._v(" "),a("p",[t._v("DNS（Domain Names System），域名系统，是互联网一项服务，是进行域名和与之相对应的 IP 地址进行转换的服务器"),a("br"),t._v("\n简单来讲，DNS相当于一个翻译官，负责将域名翻译成ip地址")]),t._v(" "),a("ul",[a("li",[t._v("IP 地址：一长串能够唯一地标记网络上的计算机的数字")]),t._v(" "),a("li",[t._v("域名：是由一串用点分隔的名字组成的 Internet 上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识")])]),t._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee14d",graph:t.$dataBlock.mermaid_382ee14d}}),a("h2",{attrs:{id:"域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名"}},[t._v("#")]),t._v(" 域名")]),t._v(" "),a("p",[t._v("域名是一个具有层次的结构，从上到下一次为根域名、顶级域名、二级域名、三级域名...")]),t._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee169",graph:t.$dataBlock.mermaid_382ee169}}),a("p",[t._v("例如www.xxx.com，www为三级域名、xxx为二级域名、com为顶级域名，系统为用户做了兼容，域名末尾的根域名.一般不需要输入"),a("br"),t._v("\n在域名的每一层都会有一个域名服务器，除此之外，还有电脑默认的本地域名服务器")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/front/network/domain.png",alt:"domain"}})]),t._v(" "),a("h2",{attrs:{id:"查询方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询方式"}},[t._v("#")]),t._v(" 查询方式")]),t._v(" "),a("p",[t._v("DNS查询的方式有两种：")]),t._v(" "),a("ul",[a("li",[t._v("递归查询：如果 A 请求 B，那么 B 作为请求的接收者一定要给 A 想要的答案")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/front/network/dns-lookup1.png",alt:"lookup1"}})]),t._v(" "),a("ul",[a("li",[t._v("迭代查询：如果接收者 B 没有请求者 A 所需要的准确内容，接收者 B 将告诉请求者 A，如何去获得这个内容，但是自己并不去发出请求")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/front/network/dns-lookup2.png",alt:"lookup2"}})]),t._v(" "),a("h2",{attrs:{id:"域名缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名缓存"}},[t._v("#")]),t._v(" 域名缓存")]),t._v(" "),a("p",[t._v("在域名服务器解析的时候，使用缓存保存域名和IP地址的映射"),a("br"),t._v("\n计算机中DNS的记录也分成了两种缓存方式：")]),t._v(" "),a("ul",[a("li",[t._v("浏览器缓存：浏览器在获取网站域名的实际 IP 地址后会对其进行缓存，减少网络请求的损耗")]),t._v(" "),a("li",[t._v("操作系统缓存：操作系统的缓存其实是用户自己配置的 hosts 文件")])]),t._v(" "),a("h2",{attrs:{id:"查询过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询过程"}},[t._v("#")]),t._v(" 查询过程")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/front/network/dns-lookup.png",alt:"lookup"}})]),t._v(" "),a("ul",[a("li",[t._v("首先搜索浏览器的 DNS 缓存，缓存中维护一张域名与 IP 地址的对应表")]),t._v(" "),a("li",[t._v("若没有命中，则继续搜索操作系统的 DNS 缓存")]),t._v(" "),a("li",[t._v("若仍然没有命中，则操作系统将域名发送至本地域名服务器，本地域名服务器采用递归查询自己的 DNS 缓存，查找成功则返回结果")]),t._v(" "),a("li",[t._v("若本地域名服务器的 DNS 缓存没有命中，则本地域名服务器向上级域名服务器进行迭代查询")]),t._v(" "),a("li",[t._v("首先本地域名服务器向根域名服务器发起请求，根域名服务器返回顶级域名服务器的地址给本地服务器")]),t._v(" "),a("li",[t._v("本地域名服务器拿到这个顶级域名服务器的地址后，就向其发起请求，获取权限域名服务器的地址")]),t._v(" "),a("li",[t._v("本地域名服务器根据权限域名服务器的地址向其发起请求，最终得到该域名对应的 IP 地址")]),t._v(" "),a("li",[t._v("本地域名服务器将得到的 IP 地址返回给操作系统，同时自己将 IP 地址缓存起来")]),t._v(" "),a("li",[t._v("操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起")]),t._v(" "),a("li",[t._v("至此，浏览器就得到了域名对应的 IP 地址，并将 IP 地址缓存起")])])],1)}),[],!1,null,null,null);"function"==typeof i&&i(_);e.default=_.exports}}]);